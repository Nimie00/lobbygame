<ion-modal #lobbyPlayersModal>
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Manage Lobby Players</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="close()">Close</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content>
      <!-- Current Players Section -->
      <ion-list>
        <ion-list-header>
          <ion-label>Current Players</ion-label>
        </ion-list-header>

        <ion-item *ngFor="let playerId of players; let i = index">
          <ion-label>
            <h2>{{playerNames[i]}}</h2>
            <p class="player-id">ID: {{playerId}}</p>
          </ion-label>

          <!-- Player Actions -->
          <ion-buttons slot="end" *ngIf="playerId !== lobby.ownerId">
            <ion-button (click)="renamePlayer(playerId, playerNames[i])" color="primary">
              <ion-icon name="create-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="kickPlayer(playerId, playerNames[i])" color="warning">
              <ion-icon name="exit-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="banPlayer(playerId, playerNames[i])" color="danger">
              <ion-icon name="ban-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="promotePlayer(playerId, playerNames[i])" color="danger">
              <ion-icon name="diamond-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-item>
      </ion-list>

      <ion-item>
        <ion-label>invite link</ion-label>
        <ion-text>{{routertext+lobby.id}}</ion-text>
      </ion-item>

      <!-- Banned Players Section -->
      <ion-list>
        <ion-list-header>
          <ion-label>Banned Players</ion-label>
        </ion-list-header>
        <ion-item *ngFor="let bannedId of bannedPlayers; let i = index">
          <ion-label>
            <h2>{{bannedPlayerNames[i]}}</h2>
            <p class="player-id">ID: {{bannedId}}</p>
          </ion-label>
          <ion-button slot="end" (click)="unbanPlayer(bannedId, bannedPlayerNames[i])" color="medium">
            <ion-icon name="refresh-outline"></ion-icon>
            Unban
          </ion-button>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-modal>
